(()=>{var e={};e.id=63,e.ids=[63],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},85016:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>f,tree:()=>c});var n=r(70260),i=r(28203),o=r(25155),l=r.n(o),a=r(67292),s={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>a[e]);r.d(t,s);let c=["",{children:["(dashboard)",{children:["masseurs",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,95044)),"D:\\projects\\10massage\\src\\app\\(dashboard)\\masseurs\\edit\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58426)),"D:\\projects\\10massage\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"D:\\projects\\10massage\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["D:\\projects\\10massage\\src\\app\\(dashboard)\\masseurs\\edit\\[id]\\page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(dashboard)/masseurs/edit/[id]/page",pathname:"/masseurs/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},44868:(e,t,r)=>{Promise.resolve().then(r.bind(r,46236))},98020:(e,t,r)=>{Promise.resolve().then(r.bind(r,94491))},94491:(e,t,r)=>{"use strict";r.d(t,{MasseurEditClient:()=>rM});var n=r(45512),i=r(58009),o=r(79334),l=r(6868),a=r(81914),s=r(16131),c=r(39400),u=r(77722),d=r(45103);function f(e,[t,r]){return Math.min(r,Math.max(t,e))}var p=r(31412),m=r(29952),h=r(6004),g=r(13024),x=r(59018),y=r(66582),v=r(38762),w=r(30830),b=r(39217),j=["PageUp","PageDown"],R=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],S={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},C="Slider",[N,P,E]=(0,b.N)(C),[A,k]=(0,h.A)(C,[E]),[D,T]=A(C),M=i.forwardRef((e,t)=>{let{name:r,min:o=0,max:l=100,step:a=1,orientation:s="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:d=[o],value:m,onValueChange:h=()=>{},onValueCommit:x=()=>{},inverted:y=!1,form:v,...w}=e,b=i.useRef(new Set),S=i.useRef(0),C="horizontal"===s?H:$,[P=[],E]=(0,g.i)({prop:m,defaultProp:d,onChange:e=>{let t=[...b.current];t[S.current]?.focus(),h(e)}}),A=i.useRef(P);function k(e,t,{commit:r}={commit:!1}){let n=(String(a).split(".")[1]||"").length,i=f(function(e,t){let r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-o)/a)*a+o,n),[o,l]);E((e=[])=>{var n,o;let l=function(e=[],t,r){let n=[...e];return n[r]=t,n.sort((e,t)=>e-t)}(e,i,t);if(n=l,!(!((o=u*a)>0)||Math.min(...n.slice(0,-1).map((e,t)=>n[t+1]-e))>=o))return e;{S.current=l.indexOf(i);let t=String(l)!==String(e);return t&&r&&x(l),t?l:e}})}return(0,n.jsx)(D,{scope:e.__scopeSlider,name:r,disabled:c,min:o,max:l,valueIndexToChangeRef:S,thumbs:b.current,values:P,orientation:s,form:v,children:(0,n.jsx)(N.Provider,{scope:e.__scopeSlider,children:(0,n.jsx)(N.Slot,{scope:e.__scopeSlider,children:(0,n.jsx)(C,{"aria-disabled":c,"data-disabled":c?"":void 0,...w,ref:t,onPointerDown:(0,p.m)(w.onPointerDown,()=>{c||(A.current=P)}),min:o,max:l,inverted:y,onSlideStart:c?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),n=Math.min(...r);return r.indexOf(n)}(P,e);k(e,t)},onSlideMove:c?void 0:function(e){k(e,S.current)},onSlideEnd:c?void 0:function(){let e=A.current[S.current];P[S.current]!==e&&x(P)},onHomeKeyDown:()=>!c&&k(o,0,{commit:!0}),onEndKeyDown:()=>!c&&k(l,P.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!c){let r=j.includes(e.key)||e.shiftKey&&R.includes(e.key),n=S.current;k(P[n]+a*(r?10:1)*t,n,{commit:!0})}}})})})})});M.displayName=C;var[L,O]=A(C,{startEdge:"left",endEdge:"right",size:"width",direction:1}),H=i.forwardRef((e,t)=>{let{min:r,max:o,dir:l,inverted:a,onSlideStart:s,onSlideMove:c,onSlideEnd:u,onStepKeyDown:d,...f}=e,[p,h]=i.useState(null),g=(0,m.s)(t,e=>h(e)),y=i.useRef(void 0),v=(0,x.jH)(l),w="ltr"===v,b=w&&!a||!w&&a;function j(e){let t=y.current||p.getBoundingClientRect(),n=q([0,t.width],b?[r,o]:[o,r]);return y.current=t,n(e-t.left)}return(0,n.jsx)(L,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,n.jsx)(W,{dir:v,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=j(e.clientX);s?.(t)},onSlideMove:e=>{let t=j(e.clientX);c?.(t)},onSlideEnd:()=>{y.current=void 0,u?.()},onStepKeyDown:e=>{let t=S[b?"from-left":"from-right"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),$=i.forwardRef((e,t)=>{let{min:r,max:o,inverted:l,onSlideStart:a,onSlideMove:s,onSlideEnd:c,onStepKeyDown:u,...d}=e,f=i.useRef(null),p=(0,m.s)(t,f),h=i.useRef(void 0),g=!l;function x(e){let t=h.current||f.current.getBoundingClientRect(),n=q([0,t.height],g?[o,r]:[r,o]);return h.current=t,n(e-t.top)}return(0,n.jsx)(L,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:(0,n.jsx)(W,{"data-orientation":"vertical",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=x(e.clientY);a?.(t)},onSlideMove:e=>{let t=x(e.clientY);s?.(t)},onSlideEnd:()=>{h.current=void 0,c?.()},onStepKeyDown:e=>{let t=S[g?"from-bottom":"from-top"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),W=i.forwardRef((e,t)=>{let{__scopeSlider:r,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:c,...u}=e,d=T(C,r);return(0,n.jsx)(w.sG.span,{...u,ref:t,onKeyDown:(0,p.m)(e.onKeyDown,e=>{"Home"===e.key?(a(e),e.preventDefault()):"End"===e.key?(s(e),e.preventDefault()):j.concat(R).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,p.m)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():i(e)}),onPointerMove:(0,p.m)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&o(e)}),onPointerUp:(0,p.m)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),l(e))})})}),X="SliderTrack",V=i.forwardRef((e,t)=>{let{__scopeSlider:r,...i}=e,o=T(X,r);return(0,n.jsx)(w.sG.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...i,ref:t})});V.displayName=X;var _="SliderRange",F=i.forwardRef((e,t)=>{let{__scopeSlider:r,...o}=e,l=T(_,r),a=O(_,r),s=i.useRef(null),c=(0,m.s)(t,s),u=l.values.length,d=l.values.map(e=>U(e,l.min,l.max)),f=u>1?Math.min(...d):0,p=100-Math.max(...d);return(0,n.jsx)(w.sG.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...o,ref:c,style:{...e.style,[a.startEdge]:f+"%",[a.endEdge]:p+"%"}})});F.displayName=_;var z="SliderThumb",Y=i.forwardRef((e,t)=>{let r=P(e.__scopeSlider),[o,l]=i.useState(null),a=(0,m.s)(t,e=>l(e)),s=i.useMemo(()=>o?r().findIndex(e=>e.ref.current===o):-1,[r,o]);return(0,n.jsx)(I,{...e,ref:a,index:s})}),I=i.forwardRef((e,t)=>{let{__scopeSlider:r,index:o,name:l,...a}=e,s=T(z,r),c=O(z,r),[u,d]=i.useState(null),f=(0,m.s)(t,e=>d(e)),h=!u||s.form||!!u.closest("form"),g=(0,v.X)(u),x=s.values[o],y=void 0===x?0:U(x,s.min,s.max),b=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(o,s.values.length),j=g?.[c.size],R=j?function(e,t,r){let n=e/2,i=q([0,50],[0,n]);return(n-i(t)*r)*r}(j,y,c.direction):0;return i.useEffect(()=>{if(u)return s.thumbs.add(u),()=>{s.thumbs.delete(u)}},[u,s.thumbs]),(0,n.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${y}% + ${R}px)`},children:[(0,n.jsx)(N.ItemSlot,{scope:e.__scopeSlider,children:(0,n.jsx)(w.sG.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":s.min,"aria-valuenow":x,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...a,ref:f,style:void 0===x?{display:"none"}:e.style,onFocus:(0,p.m)(e.onFocus,()=>{s.valueIndexToChangeRef.current=o})})}),h&&(0,n.jsx)(B,{name:l??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:x},o)]})});Y.displayName=z;var B=e=>{let{value:t,...r}=e,o=i.useRef(null),l=(0,y.Z)(t);return i.useEffect(()=>{let e=o.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==t&&r){let n=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[l,t]),(0,n.jsx)("input",{style:{display:"none"},...r,ref:o,defaultValue:t})};function U(e,t,r){return f(100/(r-t)*(e-t),[0,100])}function q(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}var G=r(44195);let K=i.forwardRef(({className:e,...t},r)=>(0,n.jsxs)(M,{ref:r,className:(0,G.cn)("relative flex w-full touch-none select-none items-center",e),...t,children:[(0,n.jsx)(V,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,n.jsx)(F,{className:"absolute h-full bg-primary"})}),(0,n.jsx)(Y,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));K.displayName=M.displayName;var Z=r(12705),J=r(17184);let Q=l.Op,ee=i.createContext({}),et=({...e})=>(0,n.jsx)(ee.Provider,{value:{name:e.name},children:(0,n.jsx)(l.xI,{...e})}),er=()=>{let e=i.useContext(ee),t=i.useContext(en),{getFieldState:r,formState:n}=(0,l.xW)(),o=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...o}},en=i.createContext({}),ei=i.forwardRef(({className:e,...t},r)=>{let o=i.useId();return(0,n.jsx)(en.Provider,{value:{id:o},children:(0,n.jsx)("div",{ref:r,className:(0,G.cn)("space-y-2",e),...t})})});ei.displayName="FormItem";let eo=i.forwardRef(({className:e,...t},r)=>{let{error:i,formItemId:o}=er();return(0,n.jsx)(J.J,{ref:r,className:(0,G.cn)(i&&"text-destructive",e),htmlFor:o,...t})});eo.displayName="FormLabel";let el=i.forwardRef(({...e},t)=>{let{error:r,formItemId:i,formDescriptionId:o,formMessageId:l}=er();return(0,n.jsx)(Z.DX,{ref:t,id:i,"aria-describedby":r?`${o} ${l}`:`${o}`,"aria-invalid":!!r,...e})});el.displayName="FormControl",i.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:i}=er();return(0,n.jsx)("p",{ref:r,id:i,className:(0,G.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let ea=i.forwardRef(({className:e,children:t,...r},i)=>{let{error:o,formMessageId:l}=er(),a=o?String(o?.message):t;return a?(0,n.jsx)("p",{ref:i,id:l,className:(0,G.cn)("text-sm font-medium text-destructive",e),...r,children:a}):null});ea.displayName="FormMessage";var es=r(75002),ec=r(94825);let eu=(0,ec.A)("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),ed=(0,ec.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ef=(0,ec.A)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ep=(0,ec.A)("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]),em=(0,ec.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),eh=(0,ec.A)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var eg=r(26753),ex=r(33667),ey=r(30096);let ev=["top","right","bottom","left"],ew=Math.min,eb=Math.max,ej=Math.round,eR=Math.floor,eS=e=>({x:e,y:e}),eC={left:"right",right:"left",bottom:"top",top:"bottom"},eN={start:"end",end:"start"};function eP(e,t){return"function"==typeof e?e(t):e}function eE(e){return e.split("-")[0]}function eA(e){return e.split("-")[1]}function ek(e){return"x"===e?"y":"x"}function eD(e){return"y"===e?"height":"width"}function eT(e){return["top","bottom"].includes(eE(e))?"y":"x"}function eM(e){return e.replace(/start|end/g,e=>eN[e])}function eL(e){return e.replace(/left|right|bottom|top/g,e=>eC[e])}function eO(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function eH(e){let{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function e$(e,t,r){let n,{reference:i,floating:o}=e,l=eT(t),a=ek(eT(t)),s=eD(a),c=eE(t),u="y"===l,d=i.x+i.width/2-o.width/2,f=i.y+i.height/2-o.height/2,p=i[s]/2-o[s]/2;switch(c){case"top":n={x:d,y:i.y-o.height};break;case"bottom":n={x:d,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:f};break;case"left":n={x:i.x-o.width,y:f};break;default:n={x:i.x,y:i.y}}switch(eA(t)){case"start":n[a]-=p*(r&&u?-1:1);break;case"end":n[a]+=p*(r&&u?-1:1)}return n}let eW=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=r,a=o.filter(Boolean),s=await (null==l.isRTL?void 0:l.isRTL(t)),c=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=e$(c,n,s),f=n,p={},m=0;for(let r=0;r<a.length;r++){let{name:o,fn:h}=a[r],{x:g,y:x,data:y,reset:v}=await h({x:u,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:l,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=x?x:d,p={...p,[o]:{...p[o],...y}},v&&m<=50&&(m++,"object"==typeof v&&(v.placement&&(f=v.placement),v.rects&&(c=!0===v.rects?await l.getElementRects({reference:e,floating:t,strategy:i}):v.rects),{x:u,y:d}=e$(c,f,s)),r=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function eX(e,t){var r;void 0===t&&(t={});let{x:n,y:i,platform:o,rects:l,elements:a,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=eP(t,e),m=eO(p),h=a[f?"floating"===d?"reference":"floating":d],g=eH(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(h)))||r?h:h.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:s})),x="floating"===d?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,y=await (null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),v=await (null==o.isElement?void 0:o.isElement(y))&&await (null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},w=eH(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:y,strategy:s}):x);return{top:(g.top-w.top+m.top)/v.y,bottom:(w.bottom-g.bottom+m.bottom)/v.y,left:(g.left-w.left+m.left)/v.x,right:(w.right-g.right+m.right)/v.x}}function eV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function e_(e){return ev.some(t=>e[t]>=0)}async function eF(e,t){let{placement:r,platform:n,elements:i}=e,o=await (null==n.isRTL?void 0:n.isRTL(i.floating)),l=eE(r),a=eA(r),s="y"===eT(r),c=["left","top"].includes(l)?-1:1,u=o&&s?-1:1,d=eP(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof m&&(p="end"===a?-1*m:m),s?{x:p*u,y:f*c}:{x:f*c,y:p*u}}function ez(){return"undefined"!=typeof window}function eY(e){return eU(e)?(e.nodeName||"").toLowerCase():"#document"}function eI(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function eB(e){var t;return null==(t=(eU(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function eU(e){return!!ez()&&(e instanceof Node||e instanceof eI(e).Node)}function eq(e){return!!ez()&&(e instanceof Element||e instanceof eI(e).Element)}function eG(e){return!!ez()&&(e instanceof HTMLElement||e instanceof eI(e).HTMLElement)}function eK(e){return!!ez()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof eI(e).ShadowRoot)}function eZ(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=e2(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function eJ(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function eQ(e){let t=e0(),r=eq(e)?e2(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function e0(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function e1(e){return["html","body","#document"].includes(eY(e))}function e2(e){return eI(e).getComputedStyle(e)}function e5(e){return eq(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function e4(e){if("html"===eY(e))return e;let t=e.assignedSlot||e.parentNode||eK(e)&&e.host||eB(e);return eK(t)?t.host:t}function e3(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=function e(t){let r=e4(t);return e1(r)?t.ownerDocument?t.ownerDocument.body:t.body:eG(r)&&eZ(r)?r:e(r)}(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),l=eI(i);if(o){let e=e9(l);return t.concat(l,l.visualViewport||[],eZ(i)?i:[],e&&r?e3(e):[])}return t.concat(i,e3(i,[],r))}function e9(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e7(e){let t=e2(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=eG(e),o=i?e.offsetWidth:r,l=i?e.offsetHeight:n,a=ej(r)!==o||ej(n)!==l;return a&&(r=o,n=l),{width:r,height:n,$:a}}function e6(e){return eq(e)?e:e.contextElement}function e8(e){let t=e6(e);if(!eG(t))return eS(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:o}=e7(t),l=(o?ej(r.width):r.width)/n,a=(o?ej(r.height):r.height)/i;return l&&Number.isFinite(l)||(l=1),a&&Number.isFinite(a)||(a=1),{x:l,y:a}}let te=eS(0);function tt(e){let t=eI(e);return e0()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:te}function tr(e,t,r,n){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);let o=e.getBoundingClientRect(),l=e6(e),a=eS(1);t&&(n?eq(n)&&(a=e8(n)):a=e8(e));let s=(void 0===(i=r)&&(i=!1),n&&(!i||n===eI(l))&&i)?tt(l):eS(0),c=(o.left+s.x)/a.x,u=(o.top+s.y)/a.y,d=o.width/a.x,f=o.height/a.y;if(l){let e=eI(l),t=n&&eq(n)?eI(n):n,r=e,i=e9(r);for(;i&&n&&t!==r;){let e=e8(i),t=i.getBoundingClientRect(),n=e2(i),o=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,l=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;c*=e.x,u*=e.y,d*=e.x,f*=e.y,c+=o,u+=l,i=e9(r=eI(i))}}return eH({width:d,height:f,x:c,y:u})}function tn(e,t){let r=e5(e).scrollLeft;return t?t.left+r:tr(eB(e)).left+r}function ti(e,t,r){void 0===r&&(r=!1);let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:tn(e,n)),y:n.top+t.scrollTop}}function to(e,t,r){let n;if("viewport"===t)n=function(e,t){let r=eI(e),n=eB(e),i=r.visualViewport,o=n.clientWidth,l=n.clientHeight,a=0,s=0;if(i){o=i.width,l=i.height;let e=e0();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,s=i.offsetTop)}return{width:o,height:l,x:a,y:s}}(e,r);else if("document"===t)n=function(e){let t=eB(e),r=e5(e),n=e.ownerDocument.body,i=eb(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=eb(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),l=-r.scrollLeft+tn(e),a=-r.scrollTop;return"rtl"===e2(n).direction&&(l+=eb(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:a}}(eB(e));else if(eq(t))n=function(e,t){let r=tr(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=eG(e)?e8(e):eS(1),l=e.clientWidth*o.x;return{width:l,height:e.clientHeight*o.y,x:i*o.x,y:n*o.y}}(t,r);else{let r=tt(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return eH(n)}function tl(e){return"static"===e2(e).position}function ta(e,t){if(!eG(e)||"fixed"===e2(e).position)return null;if(t)return t(e);let r=e.offsetParent;return eB(e)===r&&(r=r.ownerDocument.body),r}function ts(e,t){let r=eI(e);if(eJ(e))return r;if(!eG(e)){let t=e4(e);for(;t&&!e1(t);){if(eq(t)&&!tl(t))return t;t=e4(t)}return r}let n=ta(e,t);for(;n&&["table","td","th"].includes(eY(n))&&tl(n);)n=ta(n,t);return n&&e1(n)&&tl(n)&&!eQ(n)?r:n||function(e){let t=e4(e);for(;eG(t)&&!e1(t);){if(eQ(t))return t;if(eJ(t))break;t=e4(t)}return null}(e)||r}let tc=async function(e){let t=this.getOffsetParent||ts,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=eG(t),i=eB(t),o="fixed"===r,l=tr(e,!0,o,t),a={scrollLeft:0,scrollTop:0},s=eS(0);if(n||!n&&!o){if(("body"!==eY(t)||eZ(i))&&(a=e5(t)),n){let e=tr(t,!0,o,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else i&&(s.x=tn(i))}let c=!i||n||o?eS(0):ti(i,a);return{x:l.left+a.scrollLeft-s.x-c.x,y:l.top+a.scrollTop-s.y-c.y,width:l.width,height:l.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},tu={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,o="fixed"===i,l=eB(n),a=!!t&&eJ(t.floating);if(n===l||a&&o)return r;let s={scrollLeft:0,scrollTop:0},c=eS(1),u=eS(0),d=eG(n);if((d||!d&&!o)&&(("body"!==eY(n)||eZ(l))&&(s=e5(n)),eG(n))){let e=tr(n);c=e8(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}let f=!l||d||o?eS(0):ti(l,s,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-s.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-s.scrollTop*c.y+u.y+f.y}},getDocumentElement:eB,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,o=[..."clippingAncestors"===r?eJ(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=e3(e,[],!1).filter(e=>eq(e)&&"body"!==eY(e)),i=null,o="fixed"===e2(e).position,l=o?e4(e):e;for(;eq(l)&&!e1(l);){let t=e2(l),r=eQ(l);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||eZ(l)&&!r&&function e(t,r){let n=e4(t);return!(n===r||!eq(n)||e1(n))&&("fixed"===e2(n).position||e(n,r))}(e,l))?n=n.filter(e=>e!==l):i=t,l=e4(l)}return t.set(e,n),n}(t,this._c):[].concat(r),n],l=o[0],a=o.reduce((e,r)=>{let n=to(t,r,i);return e.top=eb(n.top,e.top),e.right=ew(n.right,e.right),e.bottom=ew(n.bottom,e.bottom),e.left=eb(n.left,e.left),e},to(t,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:ts,getElementRects:tc,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=e7(e);return{width:t,height:r}},getScale:e8,isElement:eq,isRTL:function(e){return"rtl"===e2(e).direction}};function td(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let tf=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:i,rects:o,platform:l,elements:a,middlewareData:s}=t,{element:c,padding:u=0}=eP(e,t)||{};if(null==c)return{};let d=eO(u),f={x:r,y:n},p=ek(eT(i)),m=eD(p),h=await l.getDimensions(c),g="y"===p,x=g?"clientHeight":"clientWidth",y=o.reference[m]+o.reference[p]-f[p]-o.floating[m],v=f[p]-o.reference[p],w=await (null==l.getOffsetParent?void 0:l.getOffsetParent(c)),b=w?w[x]:0;b&&await (null==l.isElement?void 0:l.isElement(w))||(b=a.floating[x]||o.floating[m]);let j=b/2-h[m]/2-1,R=ew(d[g?"top":"left"],j),S=ew(d[g?"bottom":"right"],j),C=b-h[m]-S,N=b/2-h[m]/2+(y/2-v/2),P=eb(R,ew(N,C)),E=!s.arrow&&null!=eA(i)&&N!==P&&o.reference[m]/2-(N<R?R:S)-h[m]/2<0,A=E?N<R?N-R:N-C:0;return{[p]:f[p]+A,data:{[p]:P,centerOffset:N-P-A,...E&&{alignmentOffset:A}},reset:E}}}),tp=(e,t,r)=>{let n=new Map,i={platform:tu,...r},o={...i.platform,_c:n};return eW(e,t,{...i,platform:o})};var tm=r(55740),th="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function tg(e,t){let r,n,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!tg(e[n],t[n]))return!1;return!0}if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(("_owner"!==r||!e.$$typeof)&&!tg(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function tx(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ty(e,t){let r=tx(e);return Math.round(t*r)/r}function tv(e){let t=i.useRef(e);return th(()=>{t.current=e}),t}let tw=e=>({name:"arrow",options:e,fn(t){let{element:r,padding:n}="function"==typeof e?e(t):e;return r&&({}).hasOwnProperty.call(r,"current")?null!=r.current?tf({element:r.current,padding:n}).fn(t):{}:r?tf({element:r,padding:n}).fn(t):{}}}),tb=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:i,y:o,placement:l,middlewareData:a}=t,s=await eF(t,e);return l===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:i+s.x,y:o+s.y,data:{...s,placement:l}}}}}(e),options:[e,t]}),tj=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:a={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...s}=eP(e,t),c={x:r,y:n},u=await eX(t,s),d=eT(eE(i)),f=ek(d),p=c[f],m=c[d];if(o){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",r=p+u[e],n=p-u[t];p=eb(r,ew(p,n))}if(l){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=m+u[e],n=m-u[t];m=eb(r,ew(m,n))}let h=a.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[f]:o,[d]:l}}}}}}(e),options:[e,t]}),tR=(e,t)=>({...function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:r,y:n,placement:i,rects:o,middlewareData:l}=t,{offset:a=0,mainAxis:s=!0,crossAxis:c=!0}=eP(e,t),u={x:r,y:n},d=eT(i),f=ek(d),p=u[f],m=u[d],h=eP(a,t),g="number"==typeof h?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(s){let e="y"===f?"height":"width",t=o.reference[f]-o.floating[e]+g.mainAxis,r=o.reference[f]+o.reference[e]-g.mainAxis;p<t?p=t:p>r&&(p=r)}if(c){var x,y;let e="y"===f?"width":"height",t=["top","left"].includes(eE(i)),r=o.reference[d]-o.floating[e]+(t&&(null==(x=l.offset)?void 0:x[d])||0)+(t?0:g.crossAxis),n=o.reference[d]+o.reference[e]+(t?0:(null==(y=l.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);m<r?m=r:m>n&&(m=n)}return{[f]:p,[d]:m}}}}(e),options:[e,t]}),tS=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n,i,o,l;let{placement:a,middlewareData:s,rects:c,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...v}=eP(e,t);if(null!=(r=s.arrow)&&r.alignmentOffset)return{};let w=eE(a),b=eT(u),j=eE(u)===u,R=await (null==d.isRTL?void 0:d.isRTL(f.floating)),S=h||(j||!y?[eL(u)]:function(e){let t=eL(e);return[eM(e),t,eM(t)]}(u)),C="none"!==x;!h&&C&&S.push(...function(e,t,r,n){let i=eA(e),o=function(e,t,r){let n=["left","right"],i=["right","left"];switch(e){case"top":case"bottom":if(r)return t?i:n;return t?n:i;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(eE(e),"start"===r,n);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(eM)))),o}(u,y,x,R));let N=[u,...S],P=await eX(t,v),E=[],A=(null==(n=s.flip)?void 0:n.overflows)||[];if(p&&E.push(P[w]),m){let e=function(e,t,r){void 0===r&&(r=!1);let n=eA(e),i=ek(eT(e)),o=eD(i),l="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=eL(l)),[l,eL(l)]}(a,c,R);E.push(P[e[0]],P[e[1]])}if(A=[...A,{placement:a,overflows:E}],!E.every(e=>e<=0)){let e=((null==(i=s.flip)?void 0:i.index)||0)+1,t=N[e];if(t)return{data:{index:e,overflows:A},reset:{placement:t}};let r=null==(o=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:o.placement;if(!r)switch(g){case"bestFit":{let e=null==(l=A.filter(e=>{if(C){let t=eT(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:l[0];e&&(r=e);break}case"initialPlacement":r=u}if(a!==r)return{reset:{placement:r}}}return{}}}}(e),options:[e,t]}),tC=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;let i,o;let{placement:l,rects:a,platform:s,elements:c}=t,{apply:u=()=>{},...d}=eP(e,t),f=await eX(t,d),p=eE(l),m=eA(l),h="y"===eT(l),{width:g,height:x}=a.floating;"top"===p||"bottom"===p?(i=p,o=m===(await (null==s.isRTL?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(o=p,i="end"===m?"top":"bottom");let y=x-f.top-f.bottom,v=g-f.left-f.right,w=ew(x-f[i],y),b=ew(g-f[o],v),j=!t.middlewareData.shift,R=w,S=b;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(S=v),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(R=y),j&&!m){let e=eb(f.left,0),t=eb(f.right,0),r=eb(f.top,0),n=eb(f.bottom,0);h?S=g-2*(0!==e||0!==t?e+t:eb(f.left,f.right)):R=x-2*(0!==r||0!==n?r+n:eb(f.top,f.bottom))}await u({...t,availableWidth:S,availableHeight:R});let C=await s.getDimensions(c.floating);return g!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),tN=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:n="referenceHidden",...i}=eP(e,t);switch(n){case"referenceHidden":{let e=eV(await eX(t,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:e_(e)}}}case"escaped":{let e=eV(await eX(t,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:e_(e)}}}default:return{}}}}}(e),options:[e,t]}),tP=(e,t)=>({...tw(e),options:[e,t]});var tE=i.forwardRef((e,t)=>{let{children:r,...o}=e,l=i.Children.toArray(r),a=l.find(tD);if(a){let e=a.props.children,r=l.map(t=>t!==a?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,n.jsx)(tA,{...o,ref:t,children:i.isValidElement(e)?i.cloneElement(e,void 0,r):null})}return(0,n.jsx)(tA,{...o,ref:t,children:r})});tE.displayName="Slot";var tA=i.forwardRef((e,t)=>{let{children:r,...n}=e;if(i.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),o=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==i.Fragment&&(o.ref=t?(0,m.t)(t,e):e),i.cloneElement(r,o)}return i.Children.count(r)>1?i.Children.only(null):null});tA.displayName="SlotClone";var tk=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function tD(e){return i.isValidElement(e)&&e.type===tk}var tT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=i.forwardRef((e,r)=>{let{asChild:i,...o}=e,l=i?tE:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...o,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),tM=i.forwardRef((e,t)=>{let{children:r,width:i=10,height:o=5,...l}=e;return(0,n.jsx)(tT.svg,{...l,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,n.jsx)("polygon",{points:"0,0 30,0 15,10"})})});tM.displayName="Arrow";var tL=i.forwardRef((e,t)=>{let{children:r,...o}=e,l=i.Children.toArray(r),a=l.find(t$);if(a){let e=a.props.children,r=l.map(t=>t!==a?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,n.jsx)(tO,{...o,ref:t,children:i.isValidElement(e)?i.cloneElement(e,void 0,r):null})}return(0,n.jsx)(tO,{...o,ref:t,children:r})});tL.displayName="Slot";var tO=i.forwardRef((e,t)=>{let{children:r,...n}=e;if(i.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),o=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==i.Fragment&&(o.ref=t?(0,m.t)(t,e):e),i.cloneElement(r,o)}return i.Children.count(r)>1?i.Children.only(null):null});tO.displayName="SlotClone";var tH=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function t$(e){return i.isValidElement(e)&&e.type===tH}var tW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=i.forwardRef((e,r)=>{let{asChild:i,...o}=e,l=i?tL:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...o,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),tX=r(92828),tV=r(49397),t_="Popper",[tF,tz]=(0,h.A)(t_),[tY,tI]=tF(t_),tB=e=>{let{__scopePopper:t,children:r}=e,[o,l]=i.useState(null);return(0,n.jsx)(tY,{scope:t,anchor:o,onAnchorChange:l,children:r})};tB.displayName=t_;var tU="PopperAnchor",tq=i.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:o,...l}=e,a=tI(tU,r),s=i.useRef(null),c=(0,m.s)(t,s);return i.useEffect(()=>{a.onAnchorChange(o?.current||s.current)}),o?null:(0,n.jsx)(tW.div,{...l,ref:c})});tq.displayName=tU;var tG="PopperContent",[tK,tZ]=tF(tG),tJ=i.forwardRef((e,t)=>{let{__scopePopper:r,side:o="bottom",sideOffset:l=0,align:a="center",alignOffset:s=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:x,...y}=e,w=tI(tG,r),[b,j]=i.useState(null),R=(0,m.s)(t,e=>j(e)),[S,C]=i.useState(null),N=(0,v.X)(S),P=N?.width??0,E=N?.height??0,A="number"==typeof f?f:{top:0,right:0,bottom:0,left:0,...f},k=Array.isArray(d)?d:[d],D=k.length>0,T={padding:A,boundary:k.filter(t2),altBoundary:D},{refs:M,floatingStyles:L,placement:O,isPositioned:H,middlewareData:$}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:l,floating:a}={},transform:s=!0,whileElementsMounted:c,open:u}=e,[d,f]=i.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=i.useState(n);tg(p,n)||m(n);let[h,g]=i.useState(null),[x,y]=i.useState(null),v=i.useCallback(e=>{e!==R.current&&(R.current=e,g(e))},[]),w=i.useCallback(e=>{e!==S.current&&(S.current=e,y(e))},[]),b=l||h,j=a||x,R=i.useRef(null),S=i.useRef(null),C=i.useRef(d),N=null!=c,P=tv(c),E=tv(o),A=tv(u),k=i.useCallback(()=>{if(!R.current||!S.current)return;let e={placement:t,strategy:r,middleware:p};E.current&&(e.platform=E.current),tp(R.current,S.current,e).then(e=>{let t={...e,isPositioned:!1!==A.current};D.current&&!tg(C.current,t)&&(C.current=t,tm.flushSync(()=>{f(t)}))})},[p,t,r,E,A]);th(()=>{!1===u&&C.current.isPositioned&&(C.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[u]);let D=i.useRef(!1);th(()=>(D.current=!0,()=>{D.current=!1}),[]),th(()=>{if(b&&(R.current=b),j&&(S.current=j),b&&j){if(P.current)return P.current(b,j,k);k()}},[b,j,k,P,N]);let T=i.useMemo(()=>({reference:R,floating:S,setReference:v,setFloating:w}),[v,w]),M=i.useMemo(()=>({reference:b,floating:j}),[b,j]),L=i.useMemo(()=>{let e={position:r,left:0,top:0};if(!M.floating)return e;let t=ty(M.floating,d.x),n=ty(M.floating,d.y);return s?{...e,transform:"translate("+t+"px, "+n+"px)",...tx(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,s,M.floating,d.x,d.y]);return i.useMemo(()=>({...d,update:k,refs:T,elements:M,floatingStyles:L}),[d,k,T,M,L])}({strategy:"fixed",placement:o+("center"!==a?"-"+a:""),whileElementsMounted:(...e)=>(function(e,t,r,n){let i;void 0===n&&(n={});let{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:c=!1}=n,u=e6(e),d=o||l?[...u?e3(u):[],...e3(t)]:[];d.forEach(e=>{o&&e.addEventListener("scroll",r,{passive:!0}),l&&e.addEventListener("resize",r)});let f=u&&s?function(e,t){let r,n=null,i=eB(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function l(a,s){void 0===a&&(a=!1),void 0===s&&(s=1),o();let c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(a||t(),!f||!p)return;let m=eR(d),h=eR(i.clientWidth-(u+f)),g={rootMargin:-m+"px "+-h+"px "+-eR(i.clientHeight-(d+p))+"px "+-eR(u)+"px",threshold:eb(0,ew(1,s))||1},x=!0;function y(t){let n=t[0].intersectionRatio;if(n!==s){if(!x)return l();n?l(!1,n):r=setTimeout(()=>{l(!1,1e-7)},1e3)}1!==n||td(c,e.getBoundingClientRect())||l(),x=!1}try{n=new IntersectionObserver(y,{...g,root:i.ownerDocument})}catch(e){n=new IntersectionObserver(y,g)}n.observe(e)}(!0),o}(u,r):null,p=-1,m=null;a&&(m=new ResizeObserver(e=>{let[n]=e;n&&n.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let h=c?tr(e):null;return c&&function t(){let n=tr(e);h&&!td(h,n)&&r(),h=n,i=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{o&&e.removeEventListener("scroll",r),l&&e.removeEventListener("resize",r)}),null==f||f(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(i)}})(...e,{animationFrame:"always"===g}),elements:{reference:w.anchor},middleware:[tb({mainAxis:l+E,alignmentAxis:s}),u&&tj({mainAxis:!0,crossAxis:!1,limiter:"partial"===p?tR():void 0,...T}),u&&tS({...T}),tC({...T,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:i,height:o}=t.reference,l=e.floating.style;l.setProperty("--radix-popper-available-width",`${r}px`),l.setProperty("--radix-popper-available-height",`${n}px`),l.setProperty("--radix-popper-anchor-width",`${i}px`),l.setProperty("--radix-popper-anchor-height",`${o}px`)}}),S&&tP({element:S,padding:c}),t5({arrowWidth:P,arrowHeight:E}),h&&tN({strategy:"referenceHidden",...T})]}),[W,X]=t4(O),V=(0,tX.c)(x);(0,tV.N)(()=>{H&&V?.()},[H,V]);let _=$.arrow?.x,F=$.arrow?.y,z=$.arrow?.centerOffset!==0,[Y,I]=i.useState();return(0,tV.N)(()=>{b&&I(window.getComputedStyle(b).zIndex)},[b]),(0,n.jsx)("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:H?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,n.jsx)(tK,{scope:r,placedSide:W,onArrowChange:C,arrowX:_,arrowY:F,shouldHideArrow:z,children:(0,n.jsx)(tW.div,{"data-side":W,"data-align":X,...y,ref:R,style:{...y.style,animation:H?void 0:"none"}})})})});tJ.displayName=tG;var tQ="PopperArrow",t0={top:"bottom",right:"left",bottom:"top",left:"right"},t1=i.forwardRef(function(e,t){let{__scopePopper:r,...i}=e,o=tZ(tQ,r),l=t0[o.placedSide];return(0,n.jsx)("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:(0,n.jsx)(tM,{...i,ref:t,style:{...i.style,display:"block"}})})});function t2(e){return null!==e}t1.displayName=tQ;var t5=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[s,c]=t4(r),u={start:"0%",center:"50%",end:"100%"}[c],d=(i.arrow?.x??0)+l/2,f=(i.arrow?.y??0)+a/2,p="",m="";return"bottom"===s?(p=o?u:`${d}px`,m=`${-a}px`):"top"===s?(p=o?u:`${d}px`,m=`${n.floating.height+a}px`):"right"===s?(p=`${-a}px`,m=o?u:`${f}px`):"left"===s&&(p=`${n.floating.width+a}px`,m=o?u:`${f}px`),{data:{x:p,y:m}}}});function t4(e){let[t,r="center"]=e.split("-");return[t,r]}r(53040);var t3=r(98060),t9=i.forwardRef((e,t)=>{let{children:r,...o}=e,l=i.Children.toArray(r),a=l.find(t8);if(a){let e=a.props.children,r=l.map(t=>t!==a?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t7,{...o,ref:t,children:i.isValidElement(e)?i.cloneElement(e,void 0,r):null})}return(0,n.jsx)(t7,{...o,ref:t,children:r})});t9.displayName="Slot";var t7=i.forwardRef((e,t)=>{let{children:r,...n}=e;if(i.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),o=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==i.Fragment&&(o.ref=t?(0,m.t)(t,e):e),i.cloneElement(r,o)}return i.Children.count(r)>1?i.Children.only(null):null});t7.displayName="SlotClone";var t6=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function t8(e){return i.isValidElement(e)&&e.type===t6}var re=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=i.forwardRef((e,r)=>{let{asChild:i,...o}=e,l=i?t9:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...o,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),rt=r(13010),[rr,rn]=(0,h.A)("Tooltip",[tz]),ri=tz(),ro="TooltipProvider",rl="tooltip.open",[ra,rs]=rr(ro),rc=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:o=300,disableHoverableContent:l=!1,children:a}=e,[s,c]=i.useState(!0),u=i.useRef(!1),d=i.useRef(0);return i.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,n.jsx)(ra,{scope:t,isOpenDelayed:s,delayDuration:r,onOpen:i.useCallback(()=>{window.clearTimeout(d.current),c(!1)},[]),onClose:i.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c(!0),o)},[o]),isPointerInTransitRef:u,onPointerInTransitChange:i.useCallback(e=>{u.current=e},[]),disableHoverableContent:l,children:a})};rc.displayName=ro;var ru="Tooltip",[rd,rf]=rr(ru),rp=e=>{let{__scopeTooltip:t,children:r,open:o,defaultOpen:l=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:c}=e,u=rs(ru,e.__scopeTooltip),d=ri(t),[f,p]=i.useState(null),m=(0,ey.B)(),h=i.useRef(0),x=s??u.disableHoverableContent,y=c??u.delayDuration,v=i.useRef(!1),[w=!1,b]=(0,g.i)({prop:o,defaultProp:l,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(rl))):u.onClose(),a?.(e)}}),j=i.useMemo(()=>w?v.current?"delayed-open":"instant-open":"closed",[w]),R=i.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,b(!0)},[b]),S=i.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),C=i.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,b(!0),h.current=0},y)},[y,b]);return i.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),(0,n.jsx)(tB,{...d,children:(0,n.jsx)(rd,{scope:t,contentId:m,open:w,stateAttribute:j,trigger:f,onTriggerChange:p,onTriggerEnter:i.useCallback(()=>{u.isOpenDelayed?C():R()},[u.isOpenDelayed,C,R]),onTriggerLeave:i.useCallback(()=>{x?S():(window.clearTimeout(h.current),h.current=0)},[S,x]),onOpen:R,onClose:S,disableHoverableContent:x,children:r})})};rp.displayName=ru;var rm="TooltipTrigger",rh=i.forwardRef((e,t)=>{let{__scopeTooltip:r,...o}=e,l=rf(rm,r),a=rs(rm,r),s=ri(r),c=i.useRef(null),u=(0,m.s)(t,c,l.onTriggerChange),d=i.useRef(!1),f=i.useRef(!1),h=i.useCallback(()=>d.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),(0,n.jsx)(tq,{asChild:!0,...s,children:(0,n.jsx)(re.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...o,ref:u,onPointerMove:(0,p.m)(e.onPointerMove,e=>{"touch"===e.pointerType||f.current||a.isPointerInTransitRef.current||(l.onTriggerEnter(),f.current=!0)}),onPointerLeave:(0,p.m)(e.onPointerLeave,()=>{l.onTriggerLeave(),f.current=!1}),onPointerDown:(0,p.m)(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:(0,p.m)(e.onFocus,()=>{d.current||l.onOpen()}),onBlur:(0,p.m)(e.onBlur,l.onClose),onClick:(0,p.m)(e.onClick,l.onClose)})})});rh.displayName=rm;var[rg,rx]=rr("TooltipPortal",{forceMount:void 0}),ry="TooltipContent",rv=i.forwardRef((e,t)=>{let r=rx(ry,e.__scopeTooltip),{forceMount:i=r.forceMount,side:o="top",...l}=e,a=rf(ry,e.__scopeTooltip);return(0,n.jsx)(t3.C,{present:i||a.open,children:a.disableHoverableContent?(0,n.jsx)(rR,{side:o,...l,ref:t}):(0,n.jsx)(rw,{side:o,...l,ref:t})})}),rw=i.forwardRef((e,t)=>{let r=rf(ry,e.__scopeTooltip),o=rs(ry,e.__scopeTooltip),l=i.useRef(null),a=(0,m.s)(t,l),[s,c]=i.useState(null),{trigger:u,onClose:d}=r,f=l.current,{onPointerInTransitChange:p}=o,h=i.useCallback(()=>{c(null),p(!1)},[p]),g=i.useCallback((e,t)=>{let r=e.currentTarget,n={x:e.clientX,y:e.clientY},i=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(n,r.getBoundingClientRect());c(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(t)}([...function(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(n,i),...function(e){let{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}(t.getBoundingClientRect())])),p(!0)},[p]);return i.useEffect(()=>()=>h(),[h]),i.useEffect(()=>{if(u&&f){let e=e=>g(e,f),t=e=>g(e,u);return u.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[u,f,g,h]),i.useEffect(()=>{if(s){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=u?.contains(t)||f?.contains(t),i=!function(e,t){let{x:r,y:n}=e,i=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let l=t[e].x,a=t[e].y,s=t[o].x,c=t[o].y;a>n!=c>n&&r<(s-l)*(n-a)/(c-a)+l&&(i=!i)}return i}(r,s);n?h():i&&(h(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,f,s,d,h]),(0,n.jsx)(rR,{...e,ref:a})}),[rb,rj]=rr(ru,{isInside:!1}),rR=i.forwardRef((e,t)=>{let{__scopeTooltip:r,children:o,"aria-label":l,onEscapeKeyDown:a,onPointerDownOutside:s,...c}=e,u=rf(ry,r),d=ri(r),{onClose:f}=u;return i.useEffect(()=>(document.addEventListener(rl,f),()=>document.removeEventListener(rl,f)),[f]),i.useEffect(()=>{if(u.trigger){let e=e=>{let t=e.target;t?.contains(u.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,f]),(0,n.jsx)(ex.qW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:f,children:(0,n.jsxs)(tJ,{"data-state":u.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,n.jsx)(t6,{children:o}),(0,n.jsx)(rb,{scope:r,isInside:!0,children:(0,n.jsx)(rt.b,{id:u.contentId,role:"tooltip",children:l||o})})]})})});rv.displayName=ry;var rS="TooltipArrow";i.forwardRef((e,t)=>{let{__scopeTooltip:r,...i}=e,o=ri(r);return rj(rS,r).isInside?null:(0,n.jsx)(t1,{...o,...i,ref:t})}).displayName=rS;let rC=i.forwardRef(({className:e,sideOffset:t=4,...r},i)=>(0,n.jsx)(rv,{ref:i,sideOffset:t,className:(0,G.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));rC.displayName=rv.displayName;let rN=s.Ik({name:s.Yj().min(1,"請輸入按摩師姓名"),description:s.Yj().max(150,"描述最多允許150個字").optional(),imageUrl:s.Yj().optional(),imageScale:s.ai().optional(),cropX:s.ai().optional(),cropY:s.ai().optional(),cropWidth:s.ai().optional(),cropHeight:s.ai().optional()});function rP({initialData:e,services:t=[],onSubmit:r,onCancel:s}){let f=(0,o.useRouter)(),[p,m]=(0,i.useState)(!1),[h,g]=(0,i.useState)(e?.imageUrl||null),[x,y]=(0,i.useState)(e?.imageScale||1),[v,w]=(0,i.useState)({x:e?.cropX||0,y:e?.cropY||0,width:e?.cropWidth||300,height:e?.cropHeight||225}),[b,j]=(0,i.useState)("view"),[R,S]=(0,i.useState)(!1),[C,N]=(0,i.useState)(null),[P,E]=(0,i.useState)({x:0,y:0}),[A,k]=(0,i.useState)(!1),[D,T]=(0,i.useState)(!1),M=(0,i.useRef)(null),L=(0,i.useRef)(null),O=(0,i.useRef)(null),H=(0,i.useRef)(null),$=(0,i.useRef)(null),W=(0,l.mN)({resolver:(0,a.u)(rN),defaultValues:e||{name:"",description:"",imageUrl:"",imageScale:1}});W.watch();let X=async e=>{if(!e)return;g(URL.createObjectURL(e)),y(1),w({x:0,y:0,width:300,height:225}),j("view"),T(!1);let t=new FormData;t.append("file",e);try{let e=await fetch("/api/upload",{method:"POST",body:t});if(!e.ok)throw Error("上傳圖片失敗");let{url:r}=await e.json();W.setValue("imageUrl",r,{shouldValidate:!0})}catch(e){console.error("上傳圖片時發生錯誤:",e),g(null)}},V=async e=>{let t=e.target.files?.[0];t&&await X(t)},_=e=>{e.preventDefault(),e.stopPropagation(),k(!0)},F=e=>{e.preventDefault(),e.stopPropagation(),k(!1)},z=async e=>{e.preventDefault(),e.stopPropagation(),k(!1);let t=e.dataTransfer.files;if(t.length>0){let e=t[0];e.type.startsWith("image/")&&await X(e)}},Y=e=>{y(e[0]),W.setValue("imageScale",e[0])},I=(e,t=null)=>{"crop"===b&&(e.stopPropagation(),S(!0),N(t),E({x:e.clientX,y:e.clientY}))},B=e=>{if(!R||"crop"!==b)return;e.preventDefault();let t=e.clientX-P.x,r=e.clientY-P.y;if(C){let e={...v};switch(C){case"topLeft":e.x+=t,e.y+=r,e.width-=t,e.height-=r;break;case"topRight":e.y+=r,e.width+=t,e.height-=r;break;case"bottomLeft":e.x+=t,e.width-=t,e.height+=r;break;case"bottomRight":e.width+=t,e.height+=r}e.width>=50&&e.height>=50&&(w(e),W.setValue("cropX",e.x),W.setValue("cropY",e.y),W.setValue("cropWidth",e.width),W.setValue("cropHeight",e.height))}else{let e={...v,x:v.x+t,y:v.y+r};w(e),W.setValue("cropX",e.x),W.setValue("cropY",e.y)}E({x:e.clientX,y:e.clientY})},U=()=>{S(!1),N(null)},q=e=>{if("crop"!==b||1!==e.touches.length)return;e.preventDefault();let t=e.touches[0];S(!0),E({x:t.clientX,y:t.clientY})},G=e=>{if(!R||"crop"!==b||1!==e.touches.length)return;let t=e.touches[0];B({clientX:t.clientX,clientY:t.clientY})},Z=()=>{S(!1)},J=()=>{console.log("重置功能被觸發: 目前模式",b),"scale"===b?(y(1),W.setValue("imageScale",1)):"crop"===b&&(w({x:0,y:0,width:300,height:225}),W.setValue("cropX",0),W.setValue("cropY",0),W.setValue("cropWidth",300),W.setValue("cropHeight",225),W.trigger(["cropX","cropY","cropWidth","cropHeight"])),console.log("重置完成: 新設定",{editMode:b,imageScale:"scale"===b?1:x,cropBox:"crop"===b?{x:0,y:0,width:300,height:225}:v})},ee=async t=>{try{m(!0);let n={...t};if("crop"===b?(console.log("裁切模式提交表單 - 使用當前裁切框設定:",v),n.cropX=v.x,n.cropY=v.y,n.cropWidth=v.width,n.cropHeight=v.height,n.imageScale=1):"scale"===b?(console.log("縮放模式提交表單 - 使用當前縮放設定:",x),n.imageScale=x,e?.cropX!==void 0&&e?.cropY!==void 0?(n.cropX=e.cropX,n.cropY=e.cropY,n.cropWidth=e.cropWidth,n.cropHeight=e.cropHeight):(n.cropX=0,n.cropY=0,n.cropWidth=void 0,n.cropHeight=void 0)):(console.log("檢視模式提交表單 - 使用原始設定"),e?(n.imageScale=e.imageScale||1,n.cropX=e.cropX,n.cropY=e.cropY,n.cropWidth=e.cropWidth,n.cropHeight=e.cropHeight):(n.imageScale=1,n.cropX=0,n.cropY=0)),!n.imageUrl&&e?.imageUrl&&(n.imageUrl=e.imageUrl),console.log("準備提交表單數據:",{editMode:b,imageScale:n.imageScale,cropX:n.cropX,cropY:n.cropY,cropWidth:n.cropWidth,cropHeight:n.cropHeight,imageUrl:n.imageUrl}),r){await r(n);return}let i=e?.id?`/api/masseurs/${e.id}`:"/api/masseurs",o=e?.id?"PUT":"POST";console.log(`發送 ${o} 請求到 ${i}`);let l=await fetch(i,{method:o,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),a=await l.json();if(console.log("API 響應:",a),!l.ok)throw Error(a.error||"提交失敗");f.push("/masseurs"),f.refresh()}catch(e){console.error("提交表單時發生錯誤:",e),alert("提交失敗，請稍後再試")}finally{m(!1)}};return(0,n.jsx)(Q,{...W,children:(0,n.jsxs)("form",{onSubmit:W.handleSubmit(ee),className:"space-y-8",children:[(0,n.jsx)(et,{control:W.control,name:"name",render:({field:e})=>(0,n.jsxs)(ei,{children:[(0,n.jsx)(eo,{children:"名稱"}),(0,n.jsx)(el,{children:(0,n.jsx)(u.p,{placeholder:"請輸入按摩師名稱",...e})}),(0,n.jsx)(ea,{})]})}),(0,n.jsx)(et,{control:W.control,name:"description",render:({field:e})=>(0,n.jsxs)(ei,{children:[(0,n.jsx)(eo,{children:"描述 (選填，最多150字)"}),(0,n.jsx)(el,{children:(0,n.jsx)(es.T,{placeholder:"請輸入按摩師描述（選填）",className:"resize-none",...e})}),(0,n.jsx)(ea,{})]})}),(0,n.jsx)(et,{control:W.control,name:"imageUrl",render:({field:e})=>(0,n.jsxs)(ei,{children:[(0,n.jsx)(eo,{children:"按摩師照片"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(el,{children:(0,n.jsx)(u.p,{placeholder:"請輸入圖片網址",...e})}),(0,n.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>M.current?.click(),children:"上傳圖片"}),(0,n.jsx)("input",{type:"file",ref:M,className:"hidden",accept:"image/*",onChange:V})]}),(0,n.jsx)(ea,{}),!h&&(0,n.jsxs)("div",{ref:$,className:`border-2 border-dashed rounded-lg p-8 transition-colors
                      ${A?"border-primary bg-primary/5":"border-gray-300 hover:border-primary/50"}
                      flex flex-col items-center justify-center text-center cursor-pointer`,onClick:()=>M.current?.click(),onDragOver:_,onDragLeave:F,onDrop:z,children:[(0,n.jsx)(eu,{className:"h-12 w-12 text-gray-400 mb-3"}),(0,n.jsx)("p",{className:"text-sm font-medium mb-1",children:"將圖片拖曳至此處"}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"支援 JPG, PNG, GIF 等常見圖片格式"})]}),(h||e.value)&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsxs)(c.$,{type:"button",variant:"view"===b?"default":"outline",size:"sm",onClick:()=>j("view"),children:[(0,n.jsx)(ed,{className:"h-4 w-4 mr-1"})," 預覽"]}),(0,n.jsxs)(c.$,{type:"button",variant:"scale"===b?"default":"outline",size:"sm",onClick:()=>j("scale"),children:[(0,n.jsx)(ef,{className:"h-4 w-4 mr-1"})," 縮放"]}),(0,n.jsxs)(c.$,{type:"button",variant:"crop"===b?"default":"outline",size:"sm",onClick:()=>j("crop"),children:[(0,n.jsx)(ep,{className:"h-4 w-4 mr-1"})," 裁切"]})]}),"view"!==b&&(0,n.jsx)(rc,{children:(0,n.jsxs)(rp,{children:[(0,n.jsx)(rh,{asChild:!0,children:(0,n.jsx)(c.$,{type:"button",variant:"outline",size:"icon",onClick:J,children:(0,n.jsx)(em,{className:"h-4 w-4"})})}),(0,n.jsx)(rC,{children:(0,n.jsx)("p",{children:"crop"===b?"重置裁剪框":"重置縮放"})})]})})]}),"scale"===b&&(0,n.jsxs)("div",{className:"flex items-center space-x-4 pl-2 pr-2",children:[(0,n.jsx)(eh,{className:"h-4 w-4 text-gray-500"}),(0,n.jsx)(K,{defaultValue:[x],min:.5,max:2,step:.1,onValueChange:Y,value:[x]}),(0,n.jsx)(ef,{className:"h-4 w-4 text-gray-500"})]}),(0,n.jsxs)("div",{ref:L,className:"relative w-full aspect-[4/3] border rounded-lg overflow-hidden bg-gray-50",onMouseMove:B,onMouseUp:U,onMouseLeave:U,onTouchStart:q,onTouchMove:G,onTouchEnd:Z,children:[(0,n.jsx)("div",{ref:O,className:"absolute w-full h-full",children:(0,n.jsx)(d.default,{src:h||e.value||"",alt:"按摩師照片預覽",fill:!0,className:"object-contain",style:{transform:"scale"===b?`scale(${x})`:void 0,objectFit:"contain"},sizes:"(max-width: 768px) 100vw, 500px",onLoad:t=>{T(!0),console.log("表單圖片載入完成",{naturalWidth:t.target.naturalWidth,naturalHeight:t.target.naturalHeight,imageUrl:h||e.value})},onError:t=>{console.error("表單圖片載入錯誤",{error:t,imageUrl:h||e.value})}})}),"crop"===b&&(0,n.jsxs)("div",{ref:H,className:"absolute border-2 border-white box-content",style:{left:`${v.x}px`,top:`${v.y}px`,width:`${v.width}px`,height:`${v.height}px`,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",cursor:"move"},onMouseDown:e=>I(e),children:[(0,n.jsx)("div",{className:"absolute w-6 h-6 bg-white rounded-full border-2 border-primary -left-3 -top-3 cursor-nw-resize",onMouseDown:e=>I(e,"topLeft")}),(0,n.jsx)("div",{className:"absolute w-6 h-6 bg-white rounded-full border-2 border-primary -right-3 -top-3 cursor-ne-resize",onMouseDown:e=>I(e,"topRight")}),(0,n.jsx)("div",{className:"absolute w-6 h-6 bg-white rounded-full border-2 border-primary -left-3 -bottom-3 cursor-sw-resize",onMouseDown:e=>I(e,"bottomLeft")}),(0,n.jsx)("div",{className:"absolute w-6 h-6 bg-white rounded-full border-2 border-primary -right-3 -bottom-3 cursor-se-resize",onMouseDown:e=>I(e,"bottomRight")})]})]}),(0,n.jsxs)("div",{className:"text-sm text-gray-500 italic",children:["view"===b&&(0,n.jsx)("p",{children:"預覽模式：查看照片的最終效果"}),"scale"===b&&(0,n.jsx)("p",{children:"縮放模式：調整照片的縮放比例"}),"crop"===b&&(0,n.jsx)("p",{children:"裁切模式：拖動邊框或角落調整裁切區域"})]})]})]})]})}),(0,n.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[s&&(0,n.jsx)(c.$,{type:"button",variant:"outline",onClick:s,children:"取消"}),(0,n.jsxs)(c.$,{type:"submit",disabled:p,children:[p&&(0,n.jsx)(eg.A,{className:"mr-2 h-4 w-4 animate-spin"}),e?"更新按摩師":"添加按摩師"]})]})]})})}let rE=(0,ec.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var rA=r(90993),rk=r(28531),rD=r.n(rk),rT=r(98377);function rM({id:e}){let{data:t,status:r}=(0,rA.useSession)(),l=(0,o.useRouter)(),[a,s]=(0,i.useState)(null),[u,d]=(0,i.useState)([]),[f,p]=(0,i.useState)(!0),[m,h]=(0,i.useState)(!1),[g,x]=(0,i.useState)(null),y="new"===e,v=async t=>{h(!0);try{let r="new"===e,n=r?"POST":"PUT",i="/api/masseurs";console.log("提交表單數據",{isNewMasseur:r,method:n,data:{...t,id:r?void 0:e,imageScale:t.imageScale,cropX:t.cropX,cropY:t.cropY,cropWidth:t.cropWidth,cropHeight:t.cropHeight}});let o={...t,id:r?void 0:e};void 0!==t.imageScale&&(o.imageScale=Number(t.imageScale)),void 0!==t.cropX&&(o.cropX=Number(t.cropX)),void 0!==t.cropY&&(o.cropY=Number(t.cropY)),void 0!==t.cropWidth&&(o.cropWidth=Number(t.cropWidth)),void 0!==t.cropHeight&&(o.cropHeight=Number(t.cropHeight)),console.log("發送API請求",{method:n,url:i,data:o});let l=await fetch(i,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await l.json();if(console.log("API回應",a),!l.ok)throw Error(a.error||`${r?"新增":"更新"}按摩師失敗 (${l.status})`);(0,rT.o)({title:"成功",description:`按摩師已成功${r?"新增":"更新"}`}),window.location.href="/masseurs"}catch(e){console.error("提交表單時發生錯誤:",e),(0,rT.o)({title:"錯誤",description:e.message||`${y?"新增":"更新"}按摩師失敗`,variant:"destructive"})}finally{h(!1)}};return"loading"===r||f&&!y?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,n.jsx)(eg.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,n.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"載入中..."})]}):g&&!y?(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(rD(),{href:"/masseurs",children:(0,n.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,n.jsx)(rE,{className:"mr-2 h-4 w-4"}),"返回按摩師列表"]})})}),(0,n.jsxs)("div",{className:"bg-red-50 border border-red-200 p-4 rounded-md",children:[(0,n.jsx)("h2",{className:"text-lg font-medium text-red-800 mb-2",children:"載入失敗"}),(0,n.jsx)("p",{className:"text-red-700",children:g})]})]}):(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("div",{className:"mb-6 flex items-center justify-between",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(rD(),{href:"/masseurs",children:(0,n.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,n.jsx)(rE,{className:"mr-2 h-4 w-4"}),"返回按摩師列表"]})}),(0,n.jsx)("h1",{className:"text-2xl font-bold ml-4",children:y?"新增按摩師":"編輯按摩師資料"})]})}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,n.jsx)(rP,{initialData:y?void 0:a||void 0,services:u,onSubmit:v,onCancel:()=>l.push("/masseurs")}),m&&(0,n.jsxs)("div",{className:"flex items-center justify-center mt-4",children:[(0,n.jsx)(eg.A,{className:"mr-2 h-4 w-4 animate-spin"}),(0,n.jsxs)("span",{children:["正在",y?"新增":"儲存","..."]})]})]})]})}r(53087)},77722:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var n=r(45512),i=r(58009),o=r(44195);let l=i.forwardRef(({className:e,type:t,...r},i)=>(0,n.jsx)("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));l.displayName="Input"},17184:(e,t,r)=>{"use strict";r.d(t,{J:()=>u});var n=r(45512),i=r(58009),o=r(30830),l=i.forwardRef((e,t)=>(0,n.jsx)(o.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var a=r(21643),s=r(44195);let c=(0,a.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)(l,{ref:r,className:(0,s.cn)(c(),e),...t}));u.displayName=l.displayName},75002:(e,t,r)=>{"use strict";r.d(t,{T:()=>l});var n=r(45512),i=r(58009),o=r(44195);let l=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));l.displayName="Textarea"},46236:(e,t,r)=>{"use strict";r.d(t,{MasseurEditClient:()=>n});let n=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call MasseurEditClient() from the server but MasseurEditClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\projects\\10massage\\src\\app\\(dashboard)\\masseurs\\edit\\[id]\\client.tsx","MasseurEditClient")},95044:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(62740),i=r(46236);function o({params:e}){return(0,n.jsx)(i.MasseurEditClient,{id:e.id})}},39217:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var n=r(58009),i=r(6004),o=r(29952),l=r(12705),a=r(45512);function s(e){let t=e+"CollectionProvider",[r,s]=(0,i.A)(t),[c,u]=r(t,{collectionRef:{current:null},itemMap:new Map}),d=e=>{let{scope:t,children:r}=e,i=n.useRef(null),o=n.useRef(new Map).current;return(0,a.jsx)(c,{scope:t,itemMap:o,collectionRef:i,children:r})};d.displayName=t;let f=e+"CollectionSlot",p=n.forwardRef((e,t)=>{let{scope:r,children:n}=e,i=u(f,r),s=(0,o.s)(t,i.collectionRef);return(0,a.jsx)(l.DX,{ref:s,children:n})});p.displayName=f;let m=e+"CollectionItemSlot",h="data-radix-collection-item",g=n.forwardRef((e,t)=>{let{scope:r,children:i,...s}=e,c=n.useRef(null),d=(0,o.s)(t,c),f=u(m,r);return n.useEffect(()=>(f.itemMap.set(c,{ref:c,...s}),()=>void f.itemMap.delete(c))),(0,a.jsx)(l.DX,{[h]:"",ref:d,children:i})});return g.displayName=m,[{Provider:d,Slot:p,ItemSlot:g},function(t){let r=u(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${h}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},s]}},59018:(e,t,r)=>{"use strict";r.d(t,{jH:()=>o});var n=r(58009);r(45512);var i=n.createContext(void 0);function o(e){let t=n.useContext(i);return e||t||"ltr"}},30096:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});var n,i=r(58009),o=r(49397),l=(n||(n=r.t(i,2)))["useId".toString()]||(()=>void 0),a=0;function s(e){let[t,r]=i.useState(l());return(0,o.N)(()=>{e||r(e=>e??String(a++))},[e]),e||(t?`radix-${t}`:"")}},30830:(e,t,r)=>{"use strict";r.d(t,{sG:()=>l});var n=r(58009);r(55740);var i=r(12705),o=r(45512),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=n.forwardRef((e,r)=>{let{asChild:n,...l}=e,a=n?i.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(a,{...l,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{})},66582:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(58009);function i(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},38762:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(58009),i=r(49397);function o(e){let[t,r]=n.useState(void 0);return(0,i.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,i=t.blockSize}else n=e.offsetWidth,i=e.offsetHeight;r({width:n,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,154,347,77,504,934,7,899],()=>r(85016));module.exports=n})();